{% extends 'blog/base.html' %}
{% load static %}

{% block title %}Buscar Usuários{% endblock %}

{% block content %}
<div class="buscar-usuarios-container">
  <h2 class="buscar-usuarios-titulo">Buscar usuários</h2>

  <form method="get" action="{% url 'buscar_usuarios' %}" class="buscar-usuarios-form campo-busca-wrapper">
    <div class="campo-busca-wrapper">
      <input
        type="text"
        name="q"
        value="{{ termo }}"
        placeholder="Digite um nome de usuário..."
        class="campo-busca"
      >
      <!-- input type=image usa o src /media direto e faz submit -->
      <input
        type="image"
        src="/media/Icones/buscar.png"
        alt="Buscar"
        class="lupa-img"
      >
    </div>
  </form>
</div>

<ul id="buscar-usuarios-lista">
  {% for usuario in usuarios %}
    <li class="buscar-usuarios-item">
      {% if usuario.perfil.foto %}
        <img src="{{ usuario.perfil.foto.url }}" alt="Foto de perfil" class="buscar-usuarios-foto">
      {% else %}
        <img src="/media/Icones/Account.png" alt="Foto de perfil padrão" class="buscar-usuarios-foto foto-padrao">
      {% endif %}
      <a href="{% url 'perfil_usuario' usuario.username %}" class="buscar-usuarios-link">{{ usuario.username }}</a>
    </li>
  {% empty %}
    <li>Nenhum usuário encontrado.</li>
  {% endfor %}
</ul>

{% endblock %}